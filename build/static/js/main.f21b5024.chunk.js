(this.webpackJsonpreadable=this.webpackJsonpreadable||[]).push([[0],{50:function(e,t,n){e.exports=n(78)},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),l=n(10),i=n(8);function s(e,t){return{type:"VOTE_POST",id:e,option:t}}function u(e){return{type:"STORE_POST",post:e}}var m=n(18),d=n(27),p=n(9),f={onNewPost:function(e,t,n,a){return function(e,t,n,a){return{type:"PROCESS_NEW_POST",author:e,body:t,category:n,title:a}}(e,n,t,a)}},E=Object(i.b)((function(e,t){var n;return{categories:null===(n=e.categories)||void 0===n?void 0:n.filter((function(e){return"all"!==e.name}))}}),f)((function(e){var t=e.categories,n=e.onNewPost,c=e.history,o=Object(a.useState)(""),l=Object(p.a)(o,2),i=l[0],s=l[1],u=Object(a.useState)(""),m=Object(p.a)(u,2),f=m[0],E=m[1],v=Object(a.useState)(""),b=Object(p.a)(v,2),O=b[0],g=b[1],h=Object(a.useState)(""),N=Object(p.a)(h,2),y=N[0],w=N[1];return Object(a.useEffect)((function(){var e=document.querySelectorAll("select"),t=M.FormSelect.init(e);return function(){var e,n=Object(d.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(a){n.e(a)}finally{n.f()}}}),[]),r.a.createElement("div",null,r.a.createElement("h2",null,"New Post"),r.a.createElement("form",{className:"col s12",onSubmit:function(e){e.preventDefault(),n(O,y,f,i),c.push("/posts#".concat(y))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{id:"author",type:"text",className:"validate",required:!0,value:O,onChange:function(e){return g(e.target.value)}}),r.a.createElement("label",{htmlFor:"author"},"Author")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("select",{id:"category",onChange:function(e){return w(e.target.value)},required:!0},t.map((function(e){var t=e.name;return r.a.createElement("option",{key:t,value:t},t)}))),r.a.createElement("label",{htmlFor:"category"},"Category"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{id:"title",type:"text",className:"validate",required:!0,value:i,onChange:function(e){return s(e.target.value)}}),r.a.createElement("label",{htmlFor:"title"},"Title"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("textarea",{id:"body",className:"materialize-textarea",style:{height:"15rem"},value:f,onChange:function(e){return E(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"body"},"Post"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("button",{className:"btn btn-large indigo white-text",style:{width:"100%"}},"Post")))))})),v={onUpdatePost:function(e,t,n){return function(e,t,n){return{type:"UPDATE_POST",id:e,title:t,body:n}}(e,t,n)}},b=Object(i.b)((function(e,t){var n,a=null===(n=e.posts)||void 0===n?void 0:n.find((function(e){return e.id===t.match.params.id}));return{post:a,exists:!!a}}),v)((function(e){var t=e.post,n=e.onUpdatePost,c=e.history,o=e.exists,i=Object(a.useState)(""),s=Object(p.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)(""),f=Object(p.a)(d,2),E=f[0],v=f[1],b=Object(a.useState)(!1),O=Object(p.a)(b,2),g=O[0],h=O[1];if(!o)return r.a.createElement("div",null,r.a.createElement("h2",null,"Not found"),r.a.createElement(l.b,{to:"/posts#all",className:"btn btn-large indigo white-text"},"Go to feed"));g||(h(!0),v(t.body),m(t.title));var N=t,y=N.title,w=N.body,S=N.id;return r.a.createElement("div",null,r.a.createElement("h2",null,"Edit"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(S,u,E),c.push("/posts/".concat(S))}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{placeholder:"Title",id:"title",type:"text",className:"validate",required:!0,value:u,defaultValue:y,onChange:function(e){return m(e.target.value)}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("textarea",{placeholder:"Post",id:"body",className:"materialize-textarea",style:{height:"15rem"},value:E,defaultValue:w,onChange:function(e){return v(e.target.value)},required:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("button",{className:"btn btn-large indigo white-text",style:{width:"100%"}},"Post")))))})),O=n(43),g=function(){return r.a.createElement(O.a,null,r.a.createElement("meta",{name:"description",content:"Readable: Anonymous reading website"}),r.a.createElement("meta",{name:"author",content:"Mahmoud Ahmedy"}),r.a.createElement("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}),r.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"}),r.a.createElement("title",null,"Readable"))},h=n(32),N=n.n(h),y=function(e){var t=e.dropdownRef,n=e.dataTarget;return r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(l.c,{to:"/posts/new"},"New Post")),r.a.createElement("li",null,r.a.createElement(l.c,{ref:t,className:"dropdown-trigger","data-target":n,to:"#"},"Categories",r.a.createElement("i",{className:"material-icons right"},"arrow_drop_down"))))},w=function(e){var t=e.categories,n=e.dataTargetId;return r.a.createElement("ul",{className:"dropdown-content",id:n},t.map((function(e){var t=e.name,n=e.path;return r.a.createElement("li",{key:t},r.a.createElement(l.c,{to:{pathname:"/posts",hash:"#".concat(n)}},t))})))},S={getCategories:function(){return{type:"GET_CATEGORIES"}}},T=Object(i.b)((function(e,t){return{categories:e.categories||[]}}),S)((function(e){var t=e.categories,n=e.getCategories,c=Object(a.useRef)(null),o=Object(a.useRef)(null);return Object(a.useEffect)((function(){n(),null!==o.current&&N.a.Dropdown.init(o.current),null!==c.current&&N.a.Sidenav.init(c.current)}),[n]),r.a.createElement(a.Fragment,null,r.a.createElement("header",{className:"navbar-fixed"},r.a.createElement("nav",{className:"indigo"},r.a.createElement("div",{className:"nav-wrapper container"},r.a.createElement(l.b,{to:"/",className:"brand-logo"},"Readable"),r.a.createElement(y,{dataTarget:"categories-dropdown",dropdownRef:o}),r.a.createElement(w,{dataTargetId:"categories-dropdown",categories:t})))),r.a.createElement("div",{className:"container"},e.children))})),x=Object(i.b)((function(e,t){var n,a=null===(n=e.posts)||void 0===n?void 0:n.find((function(e){return e.id===t.id}));return{title:null===a||void 0===a?void 0:a.title,author:null===a||void 0===a?void 0:a.author,id:null===a||void 0===a?void 0:a.id}}))((function(e){var t=e.title,n=e.author,a=e.id;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s10 offset-s1"},r.a.createElement(l.b,{to:"/posts/".concat(a)},r.a.createElement("div",{className:"card white z-depth-1"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},t),r.a.createElement("p",null,"By ",n))))))})),j=Object(i.b)((function(e,t){var n,a="all"!==t.category?null===(n=e.posts)||void 0===n?void 0:n.filter((function(e){return e.category===t.category})):e.posts;return{sortedPosts:null===a||void 0===a?void 0:a.sort((function(e,n){switch(t.orderBy){case"date-asc":return e.timestamp-n.timestamp;case"date-desc":return n.timestamp-e.timestamp;case"votes-asc":return n.voteScore-e.voteScore;case"votes-desc":return e.voteScore-n.voteScore;default:return 0}}))}}))((function(e){var t;return r.a.createElement("ul",{className:"collection"},null===(t=e.sortedPosts)||void 0===t?void 0:t.map((function(e){var t=e.id;return r.a.createElement("li",{key:t,className:"collection-item"},r.a.createElement(x,{id:t}))})))})),C=function(e){var t=e.location.hash?e.location.hash.slice(1):"all",n=Object(a.useState)("votes-asc"),c=Object(p.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){var e=document.querySelectorAll("select"),t=M.FormSelect.init(e);return function(){var e,n=Object(d.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(a){n.e(a)}finally{n.f()}}}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s8 offset-s2"},r.a.createElement("select",{defaultValue:o,onChange:function(e){return l(e.target.value)}},r.a.createElement("option",{value:"votes-asc"},"Votes - Ascending"),r.a.createElement("option",{value:"votes-desc"},"Votes - Descending"),r.a.createElement("option",{value:"date-asc"},"Date - Ascending"),r.a.createElement("option",{value:"date-desc"},"Date - Descending")))),r.a.createElement("div",null,r.a.createElement("h4",null,"Showing ",t),r.a.createElement(j,{category:t,orderBy:o})))};function _(e){return{type:"NEW_COMMENT",comment:e}}function P(e,t){return{type:"VOTE_COMMENT",id:e,option:t}}var D={display:"flex",justifyContent:"center",alignItems:"center"},k=function(e){var t=e.deleteHandler,n=e.upvoteHandler,a=e.downvoteHandler,c=e.editHandler;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s2",style:D},r.a.createElement("span",{className:"btn-floating indigo white-text",onClick:n,style:D},r.a.createElement("i",{className:"large material-icons"},"arrow_upward"))),r.a.createElement("div",{className:"col s2",style:D},r.a.createElement("span",{className:"btn-floating indigo white-text",onClick:a,style:D},r.a.createElement("i",{className:"large material-icons"},"arrow_downward"))),r.a.createElement("div",{className:"col s2",style:D},r.a.createElement("span",{className:"btn-floating indigo white-text",onClick:c,style:D},r.a.createElement("i",{className:"large material-icons"},"edit"))),r.a.createElement("div",{className:"col s2 offset-s4",style:D},r.a.createElement("span",{className:"btn-floating red darken-1 white-text",onClick:t,style:D},r.a.createElement("i",{className:"large material-icons"},"delete"))))},R=function(e){var t=e.comment,n=e.onSubmit,c=Object(a.useState)(t.body),o=Object(p.a)(c,2),l=o[0],i=o[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(l)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s10"},r.a.createElement("textarea",{value:l,onChange:function(e){return i(e.target.value)},className:"materialize-textarea",required:!0})),r.a.createElement("div",{className:"col s2",style:D},r.a.createElement("button",{className:"btn indigo white-text",type:"submit",style:{display:"flex"}},r.a.createElement("i",{className:"material-icons medium"},"done")))))},I=Object(i.b)((function(e,t){var n;return{comment:null===(n=e.comments)||void 0===n?void 0:n.find((function(e){return e.id===t.id}))}}),(function(e,t){return{onUpvote:function(){e(P(t.id,"upVote"))},onDownvote:function(){e(P(t.id,"downVote"))},onDelete:function(){e({type:"DELETE_COMMENT",id:t.id})},onUpdate:function(n,a){e(function(e,t,n){return{type:"UPDATE_COMMENT",id:e,body:n,timestamp:t}}(t.id,a,n))}}}))((function(e){var t=e.comment,n=e.onDelete,c=e.onDownvote,o=e.onUpvote,l=e.onUpdate,i=t.body,s=t.author,u=t.timestamp,m=t.voteScore,d=Object(a.useState)(!1),f=Object(p.a)(d,2),E=f[0],v=f[1],b=E&&r.a.createElement("div",{className:"card-action"},r.a.createElement(R,{onSubmit:function(e){v(!1),l(e,(new Date).getTime())},comment:t}));return r.a.createElement("div",{className:"card z-depth-1"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"card-title"},i),r.a.createElement("p",null,r.a.createElement("span",null,"By ",s),r.a.createElement("span",null," at ",new Date(u).toLocaleString())),r.a.createElement("p",null,"Votes: ",m)),r.a.createElement("div",{className:"card-action"},r.a.createElement(k,{upvoteHandler:o,downvoteHandler:c,editHandler:function(){return v((function(e){return!e}))},deleteHandler:n})),b)})),A=Object(i.b)((function(e,t){var n;return{comments:null===(n=e.comments)||void 0===n?void 0:n.filter((function(e){return e.parentId===t.parentId})).sort((function(e,t){return t.timestamp-e.timestamp}))}}))((function(e){var t;return r.a.createElement("ul",{className:"collection"},null===(t=e.comments)||void 0===t?void 0:t.map((function(e){var t=e.id;return r.a.createElement("li",{className:"collection-item",key:t},r.a.createElement(I,{id:t}))})))})),V={author:"",body:"",category:"",deleted:!1,id:"",timestamp:0,title:"",voteScore:0},G=n(16),U=Object(i.b)(null,(function(e,t){return{onSubmit:function(n,a){e(function(e,t,n){return{type:"PROCESS_NEW_COMMENT",author:t,parentId:n,body:e}}(a,n,t.parentId))}}}))((function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(p.a)(n,2),o=c[0],l=c[1],i=Object(a.useState)(""),s=Object(p.a)(i,2),u=s[0],m=s[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(o,u),l(""),m("")}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s10"},r.a.createElement("input",{id:"author",type:"text",className:"validate",required:!0,value:o,onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"author"},"Author"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s10"},r.a.createElement("input",{id:"body",type:"text",className:"validate",required:!0,value:u,onChange:function(e){return m(e.target.value)}}),r.a.createElement("label",{htmlFor:"author"},"Comment")),r.a.createElement("div",{className:"col s2",style:D},r.a.createElement("button",{className:"btn-floating indigo white-text",type:"submit",style:Object(G.a)({},D,{height:"4rem",width:"4rem",transform:"translateY(-75%)"})},r.a.createElement("i",{className:"large material-icons",style:{fontSize:"2.5rem"}},"done")))))})),L=Object(i.b)((function(e,t){var n,a=t.match.params.id,r=null===(n=e.posts)||void 0===n?void 0:n.find((function(e){return e.id===a}));return{post:r,exists:!!r}}),(function(e,t){var n=t.match.params.id;return{onUpvote:function(){e(s(n,"upVote"))},onDownvote:function(){e(s(n,"downVote"))},onLoad:function(){e({type:"GET_POST",id:n}),e(function(e){return{type:"GET_COMMENTS",id:e}}(n))},onDelete:function(){e({type:"DELETE_POST",id:n})}}}))((function(e){var t=e.onLoad,n=e.post,c=e.onDownvote,o=e.onUpvote,i=e.onDelete,s=e.history,u=e.exists;if(Object(a.useEffect)((function(){t()}),[t]),!u)return r.a.createElement("div",null,r.a.createElement("h2",null,"Not found"),r.a.createElement(l.b,{to:"/posts#all",className:"btn btn-large indigo white-text"},"Go to feed"));var m=n||V,d=m.id,p=m.body,f=m.author,E=m.timestamp,v=m.voteScore,b=m.title;return r.a.createElement("div",null,r.a.createElement("div",{className:"card z-depth-2"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"card-title"},b),r.a.createElement("p",null,r.a.createElement("span",null,"By ",f),r.a.createElement("span",null," at ",new Date(E).toLocaleString())),r.a.createElement("p",null,"Votes: ",v)),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"flow-text"},p)),r.a.createElement("div",{className:"card-action"},r.a.createElement(k,{upvoteHandler:o,downvoteHandler:c,editHandler:function(){s.push("/posts/edit/".concat(d))},deleteHandler:function(){s.push("/posts/#".concat(n.category)),i()}}))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Comments"),r.a.createElement(U,{parentId:d}),r.a.createElement(A,{parentId:d}))))})),H={getPosts:function(){return{type:"GET_POSTS",category:null}},getCategories:function(){return{type:"GET_CATEGORIES"}}},q=Object(i.b)(null,H)((function(e){var t=e.getCategories,n=e.getPosts;return Object(a.useEffect)((function(){n(),t()}),[t,n]),r.a.createElement(a.Fragment,null,r.a.createElement(g,null),r.a.createElement(T,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/posts",component:C}),r.a.createElement(m.b,{path:"/posts/new",component:E}),r.a.createElement(m.b,{path:"/posts/edit/:id",component:b}),r.a.createElement(m.b,{path:"/posts/:id",component:L}),r.a.createElement(m.a,{to:"/posts#all"}))))})),z=n(15),F=[];function W(e,t){return t.posts.filter((function(e){return!e.deleted}))}function B(e,t){return e.find((function(e){return e.id===t.post.id}))?e.map((function(e){return e.id!==t.post.id?e:t.post})):e.concat([t.post])}function J(e,t){return e.concat([t.post])}function X(e,t){return e.map((function(e){return e.id!==t.id?e:Object(G.a)({},e,{title:t.title,body:t.body})}))}function Y(e,t){return e.filter((function(e){return e.id!==t.id}))}function K(e,t){return e.map((function(e){return e.id!==t.id?e:Object(G.a)({},e,{voteScore:"upVote"===t.option?e.voteScore+1:e.voteScore&&e.voteScore-1})}))}var Q=[];var Z=[];function $(e,t){return t.comments.filter((function(e){return!e.deleted&&!e.parentDeleted}))}function ee(e,t){return e.find((function(e){return e.id===t.comment.id}))?e.map((function(e){return e.id!==t.comment.id?e:t.comment})):e.concat([t.comment])}function te(e,t){return e.concat([t.comment])}function ne(e,t){return e.map((function(e){return e.id!==t.id?e:Object(G.a)({},e,{body:t.body,timestamp:t.timestamp})}))}function ae(e,t){return e.map((function(e){return e.id!==t.id?e:Object(G.a)({},e,{deleted:!0})})).filter((function(e){return!e.deleted&&!e.parentDeleted}))}function re(e,t){return e.map((function(e){return e.parentId!==t.id?e:Object(G.a)({},e,{parentDeleted:!0})})).filter((function(e){return!e.deleted&&!e.parentDeleted}))}function ce(e,t){return e.map((function(e){return e.id!==t.id?e:Object(G.a)({},e,{voteScore:"upVote"===t.option?e.voteScore+1:e.voteScore&&e.voteScore-1})}))}var oe=Object(z.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_POSTS":return W(0,t);case"STORE_POST":return B(e,t);case"NEW_POST":return J(e,t);case"DELETE_POST":return Y(e,t);case"UPDATE_POST":return X(e,t);case"VOTE_POST":return K(e,t);default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_CATEGORIES":return t.categories;default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_COMMENTS":return $(0,t);case"STORE_COMMENT":return ee(e,t);case"NEW_COMMENT":return te(e,t);case"DELETE_COMMENT":return ae(e,t);case"UPDATE_COMMENT":return ne(e,t);case"VOTE_COMMENT":return ce(e,t);case"DELETE_POST":return re(e,t);default:return e}}}),le=n(48),ie=n(4),se=n.n(ie),ue=n(79),me=n(7),de=n(46),pe=n.n(de),fe="localhost",Ee=3001,ve="".concat("http","://").concat(fe,":").concat(Ee),be=pe.a.create({baseURL:ve,headers:{Authorization:"123456789"}});var Oe={getCategories:function(){return be.get("/categories")},getPosts:function(e){return be.get("".concat(e?"/"+e:"","/posts"))},getPost:function(e){return be.get("/posts/".concat(e))},newPost:function(e){return be.post("/posts",e)},updatePost:function(e,t,n){return be.put("/posts/".concat(e),{title:t,body:n})},votePost:function(e,t){return be.post("/posts/".concat(e),{option:t})},deletePost:function(e){return be.delete("/posts/".concat(e))},getComments:function(e){return be.get("/posts/".concat(e,"/comments"))},getComment:function(e){return be.get("/comments/".concat(e))},newComment:function(e){return be.post("/comments",e)},deleteComment:function(e){return be.delete("/comments/".concat(e))},updateComment:function(e,t,n){return be.put("/comments/".concat(e),{timestamp:t,body:n})},voteComment:function(e,t){return be.post("/comments/".concat(e),{option:t})}},ge=se.a.mark(xe),he=se.a.mark(je),Ne=se.a.mark(Ce),ye=se.a.mark(_e),we=se.a.mark(Pe),Se=se.a.mark(Me),Te=se.a.mark(De);function xe(e){var t,n,a;return se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.category,r.next=3,Oe.getPosts(t);case 3:return n=r.sent,a=n.data,r.next=7,Object(me.a)({type:"STORE_POSTS",posts:a});case 7:case"end":return r.stop()}}),ge)}function je(e){var t,n;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Oe.getPost(e.id);case 2:return t=a.sent,n=t.data,a.next=6,Object(me.a)(u(n));case 6:case"end":return a.stop()}}),he)}function Ce(e){var t,n,a,r,c,o,l;return se.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.title,n=e.body,a=e.category,r=e.author,c={title:t,body:n,category:a,author:r,timestamp:(new Date).getTime(),id:Object(ue.a)(),deleted:!1,voteScore:0},i.next=4,Oe.newPost(c);case 4:return o=i.sent,l=o.data,i.next=8,Object(me.a)(u(l));case 8:case"end":return i.stop()}}),Ne)}function _e(e){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.votePost(e.id,e.option);case 2:case"end":return t.stop()}}),ye)}function Pe(e){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.deletePost(e.id);case 2:case"end":return t.stop()}}),we)}function Me(e){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.updatePost(e.id,e.title,e.body);case 2:case"end":return t.stop()}}),Se)}function De(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.b)("GET_POSTS",xe);case 2:return e.next=4,Object(me.b)("GET_POST",je);case 4:return e.next=6,Object(me.b)("PROCESS_NEW_POST",Ce);case 6:return e.next=8,Object(me.b)("VOTE_POST",_e);case 8:return e.next=10,Object(me.b)("DELETE_POST",Pe);case 10:return e.next=12,Object(me.b)("UPDATE_POST",Me);case 12:case"end":return e.stop()}}),Te)}var ke=n(47),Re=se.a.mark(Ae),Ie=se.a.mark(Ve);function Ae(e){var t,n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.getCategories();case 2:return t=e.sent,n=t.data,e.next=6,Object(me.a)({type:"STORE_CATEGORIES",categories:[].concat(Object(ke.a)(n.categories),[{name:"all",path:"all"}])});case 6:case"end":return e.stop()}}),Re)}function Ve(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.b)("GET_CATEGORIES",Ae);case 2:case"end":return e.stop()}}),Ie)}var Ge=se.a.mark(We),Ue=se.a.mark(Be),Le=se.a.mark(Je),He=se.a.mark(Xe),qe=se.a.mark(Ye),ze=se.a.mark(Ke),Fe=se.a.mark(Qe);function We(e){var t,n;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Oe.getComments(e.id);case 2:return t=a.sent,n=t.data,a.next=6,Object(me.a)((e.id,{type:"STORE_COMMENTS",comments:n}));case 6:case"end":return a.stop()}}),Ge)}function Be(e){var t,n;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Oe.getComment(e.commentId);case 2:return t=a.sent,n=t.data,a.next=6,Object(me.a)({type:"STORE_COMMENT",comment:n});case 6:case"end":return a.stop()}}),Ue)}function Je(e){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.voteComment(e.id,e.option);case 2:case"end":return t.stop()}}),Le)}function Xe(e){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.deleteComment(e.id);case 2:case"end":return t.stop()}}),He)}function Ye(e){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oe.updateComment(e.id,(new Date).getTime(),e.body);case 2:case"end":return t.stop()}}),qe)}function Ke(e){var t,n,a;return se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t={id:Object(ue.a)(),timestamp:(new Date).getTime(),author:e.author,body:e.body,deleted:!1,parentDeleted:!1,parentId:e.parentId,voteScore:1},r.next=3,Oe.newComment(t);case 3:return n=r.sent,a=n.data,r.next=7,Object(me.a)(_(a));case 7:case"end":return r.stop()}}),ze)}function Qe(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.b)("GET_COMMENTS",We);case 2:return e.next=4,Object(me.b)("GET_COMMENT",Be);case 4:return e.next=6,Object(me.b)("PROCESS_NEW_COMMENT",Ke);case 6:return e.next=8,Object(me.b)("VOTE_COMMENT",Je);case 8:return e.next=10,Object(me.b)("DELETE_COMMENT",Xe);case 10:return e.next=12,Object(me.b)("UPDATE_COMMENT",Ye);case 12:case"end":return e.stop()}}),Fe)}var Ze=Object(le.a)(),$e=Ze;var et=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d)(Object(z.a)($e)),tt=Object(z.e)(oe,et);Ze.run(De),Ze.run(Ve),Ze.run(Qe);var nt=r.a.createElement(i.a,{store:tt},r.a.createElement(l.a,null,r.a.createElement(q,null)));o.a.render(nt,document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.f21b5024.chunk.js.map